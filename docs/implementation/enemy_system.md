# 敵ユニットシステムの実装状況

## 概要

敵ユニットシステムは、Unit クラスを拡張してより体系的な敵キャラクターの管理と振る舞いを実現します。
このシステムにより、多様な敵タイプの実装と、敵ごとの固有の行動パターンを実装できるようになりました。

## 実装済み機能

### 基本構造

- **EnemyUnit 基底クラス**
  - Unit クラスを拡張
  - 敵共通の機能を実装
  - レベルに応じたステータス計算システム
  - 経験値とドロップアイテムシステム
  - 基本的なAI行動パターンの実装

- **EnemyFactory**
  - 敵タイプとレベル指定に基づいた敵インスタンスの生成
  - 適切なプリセットの適用

### 敵タイプの実装

現在、以下の敵タイプが実装されています：

1. **GoblinEnemy**
   - 基本的な近接攻撃型敵
   - バランスの取れたステータス
   - 単純だが効率的な接近・攻撃パターン

2. **OrcEnemy**
   - HPが低下するとエンレイジ（怒り状態）になる強力な近接型敵
   - 高いHP、中程度の攻撃力
   - エンレイジ時は攻撃速度と移動速度が上昇

3. **SlimeEnemy**
   - 高速移動とダッシュ攻撃が特徴の敵
   - 低めのHP、高い機動性
   - 不規則な移動パターンで攻撃を避けにくい

### AI行動パターン

- **基本行動システム**
  - 接近・攻撃・後退の基本パターン
  - 状況に応じた意思決定（距離、HP残量など）
  - クールダウン管理

- **特殊行動パターン**
  - OrcEnemy: エンレイジ状態の管理と振る舞いの変化
  - SlimeEnemy: 加速度ベースの移動と突進攻撃
  - 条件付き行動トリガー（HP閾値など）

### 報酬システム

- **経験値**
  - 敵のレベルと種類に応じた経験値付与
  - プレイヤーの経験値システムとの連携

- **ドロップアイテム**
  - ドロップテーブルの基本実装
  - 確率に基づくアイテムドロップ
  - 敵タイプごとの特有ドロップアイテム

## UIとビジュアル

- 敵の名前表示
- HPバーの表示
- ダメージ数値の表示
- 状態変化時のビジュアルエフェクト（エンレイジ時など）

## 今後の課題

1. **さらなる敵タイプの追加**
   - 遠距離攻撃型敵の実装
   - 魔法使い型敵の実装
   - ボス敵の強化

2. **AIシステムの強化**
   - より複雑な戦術的行動パターン
   - 協調行動（他の敵と連携）
   - 環境認識と地形活用

3. **スキルシステムとの連携**
   - 敵固有のスキル実装
   - スキルのレベルアップシステム
   - 条件付きスキル使用ロジック

4. **バランス調整**
   - 敵のステータスとレベルスケーリングの調整
   - 敵の出現率と組み合わせの最適化
   - 難易度調整システム

5. **視覚表現の強化**
   - 敵ごとの固有アニメーション
   - 状態変化の視覚的表現
   - 特殊攻撃のエフェクト改善

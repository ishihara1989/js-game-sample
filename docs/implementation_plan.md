# オートバトルRPG 実装計画書

## 実装概要

本ドキュメントでは、オートバトルRPGの新機能実装計画を詳細にまとめています。開発の第3フェーズまでが完了した現在の状態を踏まえ、次のフェーズで実装する機能と優先順位を定義します。

## 実装予定機能と対応するIssue

以下の機能を優先的に実装する計画です。各項目はGitHub Issueと紐付けられています。

### フェーズ4: スキルシステムの改修

**目的**: ユニットの振る舞いからスキルを分離し、より柔軟で拡張性の高いスキルシステムを構築する

1. [スキルシステムの改修：ユニットの振る舞いからの分離](https://github.com/ishihara1989/js-game-sample/issues/9)
2. [スキルシステム：基本スキルクラスの実装](https://github.com/ishihara1989/js-game-sample/issues/10)
3. [ユニットクラスのスキルシステム対応](https://github.com/ishihara1989/js-game-sample/issues/11)

**概要**:
- スキルロジックをユニットクラスから分離
- 汎用スキルクラス階層の実装
- 基本スキルタイプの実装（近接、遠距離、範囲攻撃など）
- ユニットクラスとの連携インターフェース実装

### フェーズ5: レベルとレベルアップシステム

**目的**: ユニットの成長と進行を管理するレベルシステムを構築する

1. [レベルとレベルアップシステムの実装](https://github.com/ishihara1989/js-game-sample/issues/12)

**概要**:
- 経験値システムの実装
- レベルに連動したステータス計算
- スキルアンロックシステム
- レベルアップUIの実装

### フェーズ6: 装備アイテムシステム

**目的**: キャラクターのカスタマイズと強化のための装備システムを実装する

1. [装備アイテムシステムの実装](https://github.com/ishihara1989/js-game-sample/issues/13)

**概要**:
- 装備品の基本クラス構造
- 装備効果の計算と適用
- 装備管理UI
- 装備獲得システム

### フェーズ7: 新規プレイヤーユニット

**目的**: プレイヤーの選択肢を増やし、ゲームプレイの多様性を高める

1. [新規プレイヤーユニットの実装](https://github.com/ishihara1989/js-game-sample/issues/14)

**概要**:
- 新規ユニットタイプの実装（遠距離、防御、高速機動）
- ユニットアンロックシステム
- ユニット選択UI
- ユニットタイプ固有のスキルセット

### 将来フェーズ: セーブシステム

**目的**: プレイヤーの進行状況を永続化するためのセーブ機能を実装する

1. [セーブシステムの実装（将来課題）](https://github.com/ishihara1989/js-game-sample/issues/15)

**概要**:
- ローカルストレージを利用したデータ保存
- セーブ/ロードUI
- エラー処理と回復メカニズム

## 実装スケジュールと優先順位

実装は以下の優先順位で進める予定です：

1. **最優先**: スキルシステムの改修（フェーズ4）
   - 他の機能の基盤となるため最初に着手
   - 2025年3月〜4月

2. **高優先**: レベルアップシステム（フェーズ5）
   - スキルシステムと密接に連携するため次に実装
   - 2025年4月〜5月

3. **中優先**: 装備アイテムシステム（フェーズ6）
   - レベルシステムと連携して実装
   - 2025年5月〜6月

4. **低優先**: 新規プレイヤーユニット（フェーズ7）
   - 上記システムが完成した後に実装
   - 2025年6月〜7月

5. **将来課題**: セーブシステム
   - 他の機能が安定した段階で実装
   - 2025年7月以降

## 技術的な考慮事項

- **モジュール性**: 各機能は独立したモジュールとして実装し、結合度を低く保つ
- **拡張性**: 将来の機能追加を見据えたインターフェース設計
- **バランス**: ゲームバランスを維持するために各システムの数値調整に注意
- **パフォーマンス**: 複雑な計算や処理はパフォーマンスへの影響を最小限に抑える
- **コード品質**: ESLintとPrettierを用いた一貫したコードスタイルの維持

## 開発の進め方

1. 各機能について詳細な仕様書を作成
2. 新しいブランチでの開発とプルリクエストによるレビュー
3. 単一機能が完成するたびにマージする段階的なアプローチ
4. 定期的なプレイテストとバランス調整

## 関連ドキュメント

- [現在の開発状況](./current_status.md)
- [今後の実装予定機能](./upcoming_features.md)
- [実装詳細: メニューシステム](./implementation/menu_system.md)
- [実装詳細: ステージシステム](./implementation/stage_system.md)
- [実装詳細: 敵ユニットシステム](./implementation/enemy_system.md)
